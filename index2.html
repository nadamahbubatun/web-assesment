<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      integrity="sha512-baxB/HV16TkBHy6Dg8M79SCGlv6oLpCKC/Joa5H4SSz7r0ZF4RHJrh8p+9S3GrfoeOst9dyeGOpqiNIVBae1jA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>StarbhakMart</title>
  </head>

  <body>
    <div class="" style="width: 100vw; height: 100vh">
      <!-- Start Navbar -->
      <div class="bg-info p-2 text-white">
        <h2>Starbhak Mart</h2>
      </div>
      <!-- End Navbar -->

      <!-- Start Container ALl -->
      <div class="d-flex h-100">
        <!-- Start Sidebar -->
        <nav
          class="d-flex justify-content-between flex-column sidebar bg-secondary"
        >
          <div class="d-flex w-100 flex-column align-items-center gap-3 p-1">
            <button
              onclick="myFunction()"
              type="button"
              class="btn w-100 btn-primary dropdown-toggle"
              data-bs-toggle="dropdown"
            >
              takeaway
            </button>

            <!-- drop 1 -->
            <button type="button" class="btn btn-primary w-100">
              <img src="asset/user-solid-24.png" />
              mang jay
            </button>
          </div>

          <!-- <div class="d-flex flex-column align-items-center bg-secondary">
            <div class="dropdown">
              <button onclick="myFunction()" class="dropbtn">TakeAway</button>
            </div>
            <ul class="list-group">
              <i class="fa-solid fa-user"></i>
              <li class="list-group-item" style="text-align: center">Metiw</li>
            </ul>
          </div> -->
          <!-- <div
          class="d-flex flex-column justify-content-between h-auto p-1"
          style="background-color: #fff"
        >
          <div class="d-flex">discount:</div>
          <div class="d-flex justify-content-between">
            <p>tax</p>
            <p>Rp; 15.4000</p>
          </div>
          <div class="d-flex justify-content-between">
            <p>Total amount</p>
            <p>Rp; 15.4000</p>
          </div>
        </div> -->

          <ul id="sidebarList" class="list-group-item"></ul>

          <div class="d-flex">
            <div class="d-flex justify-content-between">
              <p id="totaldanpajak">Total + Pajak Rp.</p>
            </div>
            <button
              type="button"
              class="btn btn-success"
              style="width: 190px; margin-left: 45px"
              onclick="buy()"
            >
              Buy
            </button>
          </div>
        </nav>
        <!-- End Sidebar -->

        <!-- Start Content -->
        <div class="container gap-3">
          <div class="w-100 bg-secondary-subtle">
            <h2>Item List</h2>
          </div>
          <!-- Start baris 1 -->
          <div class="bg-secondary d-flex justify-content-between">
            <!-- Card -->
            <div class="card" style="height: 250px">
              <div class="card-body" style="background-color: #fff">
                <img
                  src="asset/Fresh_beef_burger_isolated_-1-removebg-preview.png"
                  width="120px"
                />
                <p class="card-title" id="menu">Burger</p>
                <p class="card-text text-info">Rp. 35.000</p>
                <button class="btn btn-secondary" onclick="addToSidebar(this)">
                  Add
                </button>
              </div>
            </div>
            <!--  -->
            <!-- Card -->
            <div class="card" style="height: 250px">
              <div class="card-body" style="background-color: #fff">
                <img
                  src="asset/Fresh_beef_burger_isolated_-1-removebg-preview.png"
                  width="120px"
                />
                <p class="card-title" id="menu">Burger</p>
                <h4 class="card-text text-info">Rp. 35.000</h4>
                <button class="btn btn-secondary" onclick="addToSidebar(this)">
                  Add
                </button>
              </div>
            </div>
            <!--  -->
            <!-- Card -->
            <div class="card" style="height: 250px">
              <div class="card-body" style="background-color: #fff">
                <img
                  src="asset/Fresh_beef_burger_isolated_-1-removebg-preview.png"
                  width="120px"
                />
                <p class="card-title" id="menu">Burger</p>
                <h4 class="card-text text-info">Rp. 35.000</h4>
                <button class="btn btn-secondary" onclick="addToSidebar(this)">
                  Add
                </button>
              </div>
            </div>
            <!--  -->
            <!-- Card -->
            <div class="card" style="height: 250px">
              <div class="card-body" style="background-color: #fff">
                <img
                  src="asset/Fresh_beef_burger_isolated_-1-removebg-preview.png"
                  width="120px"
                />
                <p class="card-title" id="menu">Burger</p>
                <h4 class="card-text text-info">Rp. 35.000</h4>
                <button class="btn btn-secondary" onclick="addToSidebar(this)">
                  Add
                </button>
              </div>
            </div>
            <!--  -->
            <!-- Card -->
            <div class="card" style="height: 250px">
              <div class="card-body" style="background-color: #fff">
                <img
                  src="asset/Fresh_beef_burger_isolated_-1-removebg-preview.png"
                  width="120px"
                />
                <p class="card-title" id="menu">Burger</p>
                <h4 class="card-text text-info">Rp. 35.000</h4>
                <button class="btn btn-secondary" onclick="addToSidebar(this)">
                  Add
                </button>
              </div>
            </div>
            <!--  -->
            <!-- Card -->
            <div class="card" style="height: 250px">
              <div class="card-body" style="background-color: #fff">
                <img
                  src="asset/Fresh_beef_burger_isolated_-1-removebg-preview.png"
                  width="120px"
                />
                <p class="card-title" id="menu">Burger</p>
                <h4 class="card-text text-info">Rp. 35.000</h4>
                <button class="btn btn-secondary" onclick="addToSidebar(this)">
                  Add
                </button>
              </div>
            </div>
            <!--  -->
          </div>
        </div>
        <!-- Start Content -->
      </div>
      <!-- End Container ALl -->
    </div>
    <footer class="bg-primary d-flex justify-content-end">
      <!--   -->
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-rbsU5fYZn5zgAq6fptRXOhXh+1FC7STC8P1pE93kEFZDr2/V3pI4dI+oTnMVvXHj"
      crossorigin="anonymous"
    ></script>

    <script>
      function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
      }

      window.onclick = function (event) {
        if (!event.target.matches(".dropbtn")) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          for (i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains("show")) {
              openDropdown.classList.remove("show");
            }
          }
        }
      };
      var total = 0;
      function addToSidebar(button) {
        var sidebarList = document.getElementById("sidebarList");

        var cardBody = button.parentNode;
        var menu = cardBody.querySelector(".card-title").textContent;
        var hargaText = cardBody.querySelector(".card-text").textContent;
        var harga = parseInt(hargaText.replace("Rp.", "").replace(",", ""));

        var listItem = document.createElement("li");
        listItem.className = "list-group-item";
        listItem.textContent = menu + "- Rp." + harga.toLocaleString() + ".000";

        var deleteBtn = document.createElement("button");
        deleteBtn.className = "btn btn-light   btn-sm ms-2";
        deleteBtn.textContent = "Delete";
        deleteBtn.onclick = function () {
          deleteItem(this);
        };
        listItem.appendChild(deleteBtn);

        sidebarList.appendChild(listItem);

        total += harga;

        document.getElementById("totaldanpajak").textContent =
          "Total + Pajak Rp." + total.toLocaleString() + ".000";
      }
      function deleteItem(button) {
        var item = button.parentNode;
        var itemText = item.textContent;
        var harga = parseInt(itemText.match(/Rp\.(\d+)/)[1].replace(/\./g, ""));

        total -= harga;

        document.getElementById("totaldanpajak").textContent =
          "Total + Pajak Rp." + total.toLocaleString() + ".000";

        item.parentNode.removeChild(item);
      }
      function buy() {
        // Menghitung pajak 10%
        var pajak = 0.1 * total;

        // Menampilkan total dan pajak
        var totalWithTax = Math.floor(total + pajak);
        alert(
          "Total pembelian (termasuk pajak 10%): Rp." +
            totalWithTax.toLocaleString() +
            ".000"
        );

        // Reset total ke 0 setelah pembelian
        total = 0;

        // Menghapus semua item di sidebar
        var sidebarList = document.getElementById("sidebarList");
        sidebarList.innerHTML = "";

        // Memperbarui teks total
        document.getElementById("total").textContent = "Total : ";
      }
      function Paymen() {}
    </script>
  </body>
</html>
